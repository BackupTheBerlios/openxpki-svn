<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
    <title>OpenXPKI Project - User Interface Design</title>
<link rel="stylesheet" title="default" href="../css/openxpki.css" type="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  

  </head>
  <body>
    <div class="page">

     <div class="navi">
      <div class="menu">
                <h2><a href="..">OpenXPKI Home</a></h2>
        <div class="menu_item"><a href="../secadvs/index.html">Security Advisories</a></div>
        <div class="menu_item"><a href="../news/index.html">News</a></div>
        <div class="menu_item"><a href="../mirrors/index.html">Mirrors</a></div>
        <div class="menu_item"><a href="index.html">Docs</a></div>
        <div class="menu_item"><a href="../download/index.html">Download</a></div>
        <div class="menu_item"><a href="../legacy/index.html">OpenCA Support</a></div>
        <div class="menu_item"><a href="../resources/index.html">Resources</a></div>
        <div class="menu_item"><a href="../foundation/index.html">Foundation</a></div>
        <div class="w3c">
          <a href="http://validator.w3.org/check?uri=http://www.openxpki.org/docs/user_interface.html"><img class="noborder" src="../images/valid-xhtml10.png" alt="Valid XHTML 1.0!" height="31" width="88" /></a>
        </div>
        <div class="w3c">
          <a href="http://www.masonhq.com/"><img class="noborder" src="../images/built-with-white1.png" alt="Built with Mason" height="31" width="88" /></a>
        </div>


      </div>
     </div>

     <div class="info">
      <div class="header">
        <img src="../images/openxpki_logo.png"
     alt="OpenXPKI Project"/>

      </div>

      <div class="main">
       <div class="content">

<h2>Layer Design</h2>

<p>
  OpenXPKI tries to implement a MVC design (Model-View-Controller).
  The parts are defined as follows:
  <dl>
    <dt>Model</dt>
    <dd>
      The model is implemented by a workflow engine. This
      includes things like the configuration or the state
      handling.
    </dd>
    <dt>Controller</dt>
    <dd>
      The controllers are represented by the different workflow
      activities. Every activity can manipulate the state
      of a workflow including its properties.
    </dd>
    <dt>View</dt>
    <dd>
      The view is represented by the user interfaces. I have to
      admit though that the term is not fully correct. The
      user interface consists of two parts - the user interface
      and the transport layer.
    </dd>
  </dl>
</p>
<p>
  The user interface receives queries and send answers.
  The format of the queries and answers are defined by
  the user interface. Such a query can be an XML document,
  a text message or a hash reference. The format will
  simply be defined by the user interface. The transport
  of the messages is <i>NOT</i> the job of the user
  interface.
</p>
<p>
  The transport layer has a very minimalistic interface.
  It has functions to establish and close a communication
  path and to send and receive messages. That's all. This
  means the transport layer must be able to serialize the
  messages if necessary and to transport the serialized
  messages to the other peer. If you need a good performance
  then you should invest some time into a good interface
  definition for the user interface to reduce the costs for
  the serialization.
</p>

<h2>Functional User Interface</h2>

The most critical part will be to identify the necessary functions
and to define a very minimalistic interface with an acceptable
performance. The parts with most problems are huge jobs
like backup, dataexchange or searches. If you want to show
informations during backup and dataexchange then you need
functions in the transport layer to send parts of the document
without knowing how the complete message will be. This can
be implemented by a simple flag like <i>INTERMEDIATE</i>.
The search function is more critical because it is the only
function which requires huge datastructures as answer.

<h2>Transport Layer</h2>

<h3>Interface Functions</h3>

<p>
  The minimum interface looks like this until now:
</p>
<ul>
  <li>new (incl. open)</li>
  <li>close</li>
  <li>write</li>
  <li>read</li>
  <li>finished (read or write finished for long messages)</li>
</ul>

<h3>Serialization</h3>

<p>
  Until now it looks like we must only serialize data structures like:
</p>
<ul>
  <li>hash references
  <li>array references
  <li>scalars
</ul>
<p>
  The problem is that we must implement this as a platform
  and language independent message which is really fast parseable.
  The idea is to allow only the following:
  <pre>
    (hashref.arrayref)* ::= scalar

    $href-&gt;{CERT}-&gt;[1]-&gt;{SUBJECT}-&gt;[0] = "dc=www,dc=openxpki,dc=org";
  </pre>
</p>
       </div>
       <div class="footer">
        Last modified by oliwel on 2005-09-06 13:57:50 - &copy; 2005  OpenXPKI Foundation


       </div>
      </div> <!-- main -->
     </div> <!-- info -->
    </div>  <!-- page -->
  </body>
</html>


